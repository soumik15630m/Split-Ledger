# ─────────────────────────────────────────────────────────────────────────
# SplitLedger — Environment Variables
#
# HOW TO USE:
#   1. Copy this file:   cp .env.example .env
#   2. Fill in values    (the defaults below work with docker-compose as-is)
#   3. Never commit .env to git — it contains secrets
# ─────────────────────────────────────────────────────────────────────────


# ── Flask ─────────────────────────────────────────────────────────────────

# "development" | "testing" | "production"
FLASK_ENV=development

# Secret key for session signing — change this in production!
# Generate a strong one with:  python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=CHANGE_ME_IN_PRODUCTION_use_secrets_token_hex_32


# ── JWT ───────────────────────────────────────────────────────────────────

# Must be long and random — separate from SECRET_KEY
# Generate:  python -c "import secrets; print(secrets.token_hex(32))"
JWT_SECRET_KEY=CHANGE_ME_ANOTHER_RANDOM_SECRET

# Access token lifetime in seconds (15 minutes)
JWT_ACCESS_TOKEN_EXPIRES=900

# Refresh token lifetime in seconds (7 days)
JWT_REFRESH_TOKEN_EXPIRES=604800

# Backward-compatible aliases (used only when the second-based vars are unset):
# JWT_ACCESS_TOKEN_EXPIRES_MINUTES=15
# JWT_REFRESH_TOKEN_EXPIRES_DAYS=7


# ── Database — Development ────────────────────────────────────────────────
# These values match docker-compose.yml exactly.
# If you install PostgreSQL manually, adjust host/port/password accordingly.

DATABASE_URL=postgresql://splitledger:splitledger_dev_password@localhost:5432/splitledger


# ── Database — Test ───────────────────────────────────────────────────────
# Used by pytest (tests/integration/conftest.py).
# Points to the second Docker container (port 5433).

TEST_DATABASE_URL=postgresql://splitledger:splitledger_test_password@localhost:5433/splitledger_test


# ── bcrypt ────────────────────────────────────────────────────────────────
# Cost factor for password hashing. 12 = spec default.
# Lower to 4 during testing to speed up bcrypt (TestingConfig does this automatically).
BCRYPT_LOG_ROUNDS=12
