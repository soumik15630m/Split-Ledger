# backend/pytest.ini
# ─────────────────────────────────────────────────────────────────────────
# Pytest configuration for SplitLedger.
# This file lives in backend/ so pytest discovers tests/unit and tests/integration
# automatically when run from that directory.
# ─────────────────────────────────────────────────────────────────────────

[pytest]
# Root for test discovery
testpaths = tests

# Minimum pytest version
minversion = 8.0

# Default flags for every pytest run
addopts =
    --strict-markers
    --tb=short
    -q

# Custom markers (so --strict-markers doesn't reject them)
markers =
    unit:        Pure unit tests — no DB, no Flask, no auth
    integration: Integration tests — require live PostgreSQL

# Log configuration (shown on failure)
log_cli          = false
log_level        = WARNING
log_cli_level    = WARNING

# Treat these as xfail by default (optional — comment out if not needed)
# xfail_strict = true
